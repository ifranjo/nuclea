# Content Upload Flow

**Source:** Multiple PDFs showing content creation across capsule types

## Content Types

| Type | Icon | Formats | Max Size | Available In |
|------|------|---------|----------|--------------|
| Photo | ðŸ“· | JPG, PNG, HEIC, WebP | 20MB | All |
| Video | ðŸŽ¬ | MP4, MOV, WebM | 500MB | All |
| Audio | ðŸŽ¤ | MP3, M4A, WAV | 50MB | All |
| Note | ðŸ“ | Text (rich) | - | All |
| Drawing | ðŸŽ¨ | JPG, PNG (captured) | 20MB | Origin only |

## Upload Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. TRIGGER                                                                 â”‚
â”‚                                                                             â”‚
â”‚     FAB (+) in capsule view                                                â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚    Â¿QuÃ© quieres aÃ±adir?     â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   ðŸ“·      ðŸŽ¬      ðŸŽ¤      ðŸ“  â”‚                                        â”‚
â”‚     â”‚  Foto   Video   Audio   Nota â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚         ðŸŽ¨ (Origin only)    â”‚                                        â”‚
â”‚     â”‚       Dibujo                â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚     Bottom sheet with content type icons                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
               Photo/Video       Audio            Note
                    â”‚               â”‚               â”‚
                    â–¼               â–¼               â–¼
```

### Photo/Video Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2A. PHOTO/VIDEO SOURCE                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   [  ðŸ“· CÃ¡mara  ]          â”‚                                        â”‚
â”‚     â”‚   [  ðŸ–¼ï¸ GalerÃ­a  ]          â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                 Camera                          Gallery
                    â”‚                               â”‚
                    â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3A. CAPTURE / SELECT                                                       â”‚
â”‚                                                                             â”‚
â”‚  Camera:                           Gallery:                                 â”‚
â”‚  - Native camera UI                - Multi-select enabled                  â”‚
â”‚  - Photo/video toggle              - Max 10 items per upload               â”‚
â”‚  - Flash, flip controls            - Shows selected count                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4A. METADATA                                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚  ðŸ“· photo_001.jpg           â”‚                                        â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                        â”‚
â”‚     â”‚  â”‚     [preview]         â”‚  â”‚                                        â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Fecha del recuerdo:        â”‚                                        â”‚
â”‚     â”‚  [ðŸ“… 15 Ene 2026      â–¼]   â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  DescripciÃ³n (opcional):    â”‚                                        â”‚
â”‚     â”‚  [________________________] â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  [Guardar]                  â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Date picker defaults to today or EXIF date                              â”‚
â”‚  - Description is optional                                                  â”‚
â”‚  - Batch mode shows carousel of items                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Audio Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2B. AUDIO SOURCE                                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   [  ðŸŽ¤ Grabar  ]           â”‚                                        â”‚
â”‚     â”‚   [  ðŸ“ Archivo  ]          â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                 Record                          File
                    â”‚                               â”‚
                    â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3B. RECORD                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚       â—‰ 02:34              â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†â–…â–„â–ƒâ–‚â–         â”‚  (waveform visualization)               â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚        [  â¹  ]             â”‚                                        â”‚
â”‚     â”‚         Stop                â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Max duration: 5 minutes                                                  â”‚
â”‚  - Real-time waveform                                                       â”‚
â”‚  - Tap stop to finish                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4B. REVIEW                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚       â–¶ 02:34              â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†â–…â–„â–ƒâ–‚â–         â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   [Volver a grabar]         â”‚                                        â”‚
â”‚     â”‚   [Guardar]                 â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Playback before saving                                                   â”‚
â”‚  - Option to re-record                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Note Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2C. NOTE EDITOR                                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚  Nueva nota                 â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Fecha: [ðŸ“… 15 Ene 2026]   â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  TÃ­tulo (opcional):         â”‚                                        â”‚
â”‚     â”‚  [________________________] â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Contenido:                 â”‚                                        â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                        â”‚
â”‚     â”‚  â”‚                       â”‚  â”‚                                        â”‚
â”‚     â”‚  â”‚ Rich text editor      â”‚  â”‚                                        â”‚
â”‚     â”‚  â”‚ - Bold, italic        â”‚  â”‚                                        â”‚
â”‚     â”‚  â”‚ - Lists               â”‚  â”‚                                        â”‚
â”‚     â”‚  â”‚ - Links               â”‚  â”‚                                        â”‚
â”‚     â”‚  â”‚                       â”‚  â”‚                                        â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  [Guardar]                  â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Rich text with basic formatting                                          â”‚
â”‚  - Auto-save draft                                                          â”‚
â”‚  - Character count (optional limit)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Drawing Flow (Origin Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2D. DRAWING CAPTURE                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   [  ðŸ“· Fotografiar  ]      â”‚  (capture physical drawing)            â”‚
â”‚     â”‚   [  ðŸŽ¨ Dibujar aquÃ­ ]      â”‚  (digital canvas)                      â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
              Photograph                        Digital
                    â”‚                               â”‚
                    â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3D. PHOTOGRAPH DRAWING                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                                        â”‚
â”‚     â”‚   â”‚   Camera view     â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚                   â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚  (flat-lay guide overlay)              â”‚
â”‚     â”‚   â”‚ â”‚  Coloca el  â”‚   â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚ â”‚  dibujo     â”‚   â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚ â”‚  aquÃ­       â”‚   â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚                                        â”‚
â”‚     â”‚   â”‚                   â”‚     â”‚                                        â”‚
â”‚     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚         [ ðŸ“· ]              â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4D. DRAWING METADATA                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚  ðŸŽ¨ Dibujo                  â”‚                                        â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                        â”‚
â”‚     â”‚  â”‚     [preview]         â”‚  â”‚                                        â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Edad del niÃ±o:             â”‚                                        â”‚
â”‚     â”‚  [ 4 aÃ±os          â–¼]      â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  TÃ­tulo (por el niÃ±o):      â”‚                                        â”‚
â”‚     â”‚  [Mi familia_____________] â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Material:                  â”‚                                        â”‚
â”‚     â”‚  [ Crayones         â–¼]     â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  [Guardar]                  â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Capture child's age at creation                                          â”‚
â”‚  - Record title in child's words                                            â”‚
â”‚  - Material/medium for context                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Upload Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. UPLOAD PROGRESS                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  Subiendo...                â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  45%     â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚  photo_001.jpg              â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Progress bar for large files                                             â”‚
â”‚  - Background upload for small files                                        â”‚
â”‚  - Resume capability for interrupted uploads                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. SUCCESS                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚         âœ“                   â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â”‚   Recuerdo guardado         â”‚                                        â”‚
â”‚     â”‚                             â”‚                                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  - Brief success toast                                                      â”‚
â”‚  - Returns to capsule view                                                  â”‚
â”‚  - New content appears in timeline                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technical Implementation

### Upload Service
```typescript
interface UploadConfig {
  capsuleId: string;
  contentType: ContentType;
  file: File | Blob;
  metadata: ContentMetadata;
  onProgress?: (percent: number) => void;
}

interface ContentMetadata {
  title?: string;
  description?: string;
  contentDate: Date;
  // Drawing specific
  childAge?: string;
  medium?: string;
  // Audio specific
  durationSeconds?: number;
}

async function uploadContent(config: UploadConfig): Promise<Content> {
  const { capsuleId, contentType, file, metadata, onProgress } = config;

  // 1. Generate storage path
  const storagePath = `capsules/${capsuleId}/${contentType}s/${generateId()}_${file.name}`;

  // 2. Upload to Supabase Storage
  const { data: uploadData, error: uploadError } = await supabase.storage
    .from('content')
    .upload(storagePath, file, {
      onUploadProgress: (progress) => {
        onProgress?.((progress.loaded / progress.total) * 100);
      }
    });

  if (uploadError) throw uploadError;

  // 3. Generate thumbnail (for photos/videos)
  let thumbnailUrl = null;
  if (contentType === 'photo' || contentType === 'video') {
    thumbnailUrl = await generateThumbnail(file, storagePath);
  }

  // 4. Create content record
  const { data: content, error: contentError } = await supabase
    .from('contents')
    .insert({
      capsule_id: capsuleId,
      type: contentType,
      title: metadata.title,
      description: metadata.description,
      storage_path: storagePath,
      file_size_bytes: file.size,
      mime_type: file.type,
      thumbnail_url: thumbnailUrl,
      content_date: metadata.contentDate.toISOString().split('T')[0],
      metadata: {
        ...metadata,
        originalName: file.name
      }
    })
    .select()
    .single();

  if (contentError) throw contentError;

  return content;
}
```

### Thumbnail Generation
```typescript
async function generateThumbnail(file: File, storagePath: string): Promise<string> {
  // For photos: resize to 300x300
  // For videos: extract frame at 1s

  if (file.type.startsWith('image/')) {
    const resized = await resizeImage(file, 300, 300);
    const thumbPath = storagePath.replace(/\.[^.]+$/, '_thumb.jpg');

    await supabase.storage
      .from('content')
      .upload(thumbPath, resized);

    return supabase.storage.from('content').getPublicUrl(thumbPath).data.publicUrl;
  }

  if (file.type.startsWith('video/')) {
    const frame = await extractVideoFrame(file, 1);
    const thumbPath = storagePath.replace(/\.[^.]+$/, '_thumb.jpg');

    await supabase.storage
      .from('content')
      .upload(thumbPath, frame);

    return supabase.storage.from('content').getPublicUrl(thumbPath).data.publicUrl;
  }

  return null;
}
```

### Audio Recording
```typescript
interface AudioRecorderConfig {
  maxDuration: number; // seconds
  onWaveform: (data: number[]) => void;
  onDuration: (seconds: number) => void;
}

class AudioRecorder {
  private mediaRecorder: MediaRecorder | null = null;
  private audioChunks: Blob[] = [];
  private analyser: AnalyserNode | null = null;

  async start(config: AudioRecorderConfig): Promise<void> {
    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });

    // Setup analyzer for waveform
    const audioContext = new AudioContext();
    const source = audioContext.createMediaStreamSource(stream);
    this.analyser = audioContext.createAnalyser();
    source.connect(this.analyser);

    // Start recording
    this.mediaRecorder = new MediaRecorder(stream);
    this.audioChunks = [];

    this.mediaRecorder.ondataavailable = (e) => {
      this.audioChunks.push(e.data);
    };

    this.mediaRecorder.start();

    // Waveform updates
    this.updateWaveform(config.onWaveform);

    // Duration tracking
    const startTime = Date.now();
    const durationInterval = setInterval(() => {
      const elapsed = (Date.now() - startTime) / 1000;
      config.onDuration(elapsed);

      if (elapsed >= config.maxDuration) {
        this.stop();
        clearInterval(durationInterval);
      }
    }, 100);
  }

  stop(): Blob {
    this.mediaRecorder?.stop();
    return new Blob(this.audioChunks, { type: 'audio/webm' });
  }

  private updateWaveform(callback: (data: number[]) => void) {
    if (!this.analyser) return;

    const dataArray = new Uint8Array(this.analyser.frequencyBinCount);
    this.analyser.getByteTimeDomainData(dataArray);
    callback(Array.from(dataArray));

    requestAnimationFrame(() => this.updateWaveform(callback));
  }
}
```

## Validation Rules

| Content Type | Validation |
|--------------|------------|
| Photo | Max 20MB, image/* MIME |
| Video | Max 500MB, video/* MIME, max 10min duration |
| Audio | Max 50MB, audio/* MIME, max 5min duration |
| Note | Max 10,000 characters |
| Drawing | Same as Photo |

## Error Handling

| Error | User Message | Action |
|-------|--------------|--------|
| File too large | "El archivo es demasiado grande" | Show size limit |
| Upload failed | "Error al subir. Â¿Reintentar?" | Retry button |
| Network offline | "Sin conexiÃ³n. Se guardarÃ¡ cuando vuelvas" | Queue for later |
| Storage full | "Tu almacenamiento estÃ¡ lleno" | Upgrade prompt |
| Invalid format | "Formato no soportado" | Show supported formats |
