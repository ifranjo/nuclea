# ============================================================
# NUCLEA — POC Real (Supabase backend)
# ============================================================
# Copy this file to .env.local and fill in real values.
# .env.local is gitignored and must NEVER be committed.
# .env.example IS committed — it documents required variables
# but contains NO real credentials.
#
# Local dev quick-start (Supabase Docker):
#   npx supabase start      → prints all keys below
#   npx supabase status     → shows keys again at any time
# ============================================================


# ------------------------------------------------------------
# Supabase — Client (public — exposed to browser)
# ------------------------------------------------------------

# Local dev default. For Supabase Cloud use the URL from:
# dashboard.supabase.com > your project > Settings > API
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321

# anon/public key — safe to expose to the browser.
# Local dev: printed by `npx supabase start` as "anon key".
# Production: Settings > API > Project API keys > anon (public)
NEXT_PUBLIC_SUPABASE_ANON_KEY=


# ------------------------------------------------------------
# Supabase — Server (secret — server-side / API routes ONLY)
# NEVER expose this to the client.
# ------------------------------------------------------------

# service_role key — bypasses Row Level Security.
# Local dev: printed by `npx supabase start` as "service_role key".
# Production: Settings > API > Project API keys > service_role (secret)
SUPABASE_SERVICE_ROLE_KEY=

# Dedicated admin secret for privileged beta APIs.
# Generate with: openssl rand -hex 32
# Send as header: x-admin-key
ADMIN_API_SECRET=


# ------------------------------------------------------------
# Beta Invitation System
# ------------------------------------------------------------

# Master switch for the beta access gate.
# false (default) — all authenticated users can access the app (dev mode).
# true  — middleware checks beta_access.enabled before granting access.
BETA_GATE_ENABLED=false


# ------------------------------------------------------------
# Application URLs
# Used when building absolute links in invitation emails.
# Leave empty in development (falls back to request origin).
# ------------------------------------------------------------

# Full public URL of the deployed app (no trailing slash).
# Example: https://poc.nuclea.app
# Local dev: leave empty — API routes fall back to request.nextUrl.origin
NEXT_PUBLIC_APP_URL=


# ------------------------------------------------------------
# Cron Jobs
# Protects the /api/cron/lifecycle route from unauthorized calls.
# Generate with: openssl rand -hex 32
# Send as header: x-cron-secret or Authorization: Bearer <value>
# ------------------------------------------------------------
CRON_SECRET=

# Days of trust-contact inactivity before lifecycle events trigger.
# Default: 120 days.
TRUST_CONTACT_INACTIVITY_DAYS=120
